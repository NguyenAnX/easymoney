(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,n){e.exports=n(314)},163:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(9),s=n.n(r),c=(n(163),n(72)),i=n(60),l=n(141),u=n(142),m=n(154),d=n(143),p=n(155),y=n(318),f=n(317),E=n(51),k=n(23),R=n(43),v=n(315),b=n(316),h=n(82),C=n.n(h),x=n(107),P=n(81),I=n(11),g=[{name:"Black",score:1},{name:"Red",score:2},{name:"3 Pairs",score:3},{name:"FoaK",score:4}],j=[{name:"Black",score:-1},{name:"Red",score:-2},{name:"3 Pairs",score:-3},{name:"FoaK",score:-4}],O=function(e){var t=e.positions,n=e.player,a=e.playerIndex,r=e.onPositionClick,s=e.onExtraItemClick,c=o.a.createElement(x.b,{style:{backgroundColor:"#87d068"}},g.map(function(e,t){return o.a.createElement(x.b.Item,{onClick:function(){return s(a,e)},key:t},e.name)})),i=o.a.createElement(x.b,{style:{backgroundColor:"#f50"}},j.map(function(e,t){return o.a.createElement(x.b.Item,{onClick:function(){return s(a,e)},key:t},e.name)}));return o.a.createElement(E.a,{justify:"start",type:"flex",gutter:4},Object.keys(t).map(function(e){return!1===t[e].selected&&0===n.position?o.a.createElement(k.a,null,o.a.createElement(R.a,{onClick:function(){return r(a,e)},shape:"circle"},e)):null}),o.a.createElement(k.a,null,o.a.createElement(P.a,{overlay:c},o.a.createElement(R.a,{style:{backgroundColor:"#87d068"},shape:"circle"},o.a.createElement(I.a,{type:"plus"})))),o.a.createElement(k.a,null,o.a.createElement(P.a,{overlay:i},o.a.createElement(R.a,{style:{backgroundColor:"#f50"},shape:"circle"},o.a.createElement(I.a,{type:"minus"})))))},w=n(319),S=function(e){var t=e.player,n=e.playerIndex,a=e.items,r=e.onRemoveItem,s=e.onRemovePosition;return o.a.createElement(E.a,{justify:"start",type:"flex"},0!==t.position?o.a.createElement(k.a,null,o.a.createElement(w.a,{color:"#108ee9",onClick:function(){return s(n)}},t.position)):null,a.map(function(e,t){return o.a.createElement(k.a,{key:t},o.a.createElement(w.a,{color:e.score>=0?"#87d068":"#f50",onClick:function(e){e.preventDefault(),r(n,t)}},e.name))}))},N=[{key:"1",name:"An",score:0,earn:0,roundResult:[],position:0},{key:"2",name:"\u0110\u1ea1t",score:0,earn:0,roundResult:[],position:0},{key:"3",name:"S\u01a1n",score:0,earn:0,roundResult:[],position:0},{key:"4",name:"Th\u1ecbnh",score:0,earn:0,roundResult:[],position:0},{key:"5",name:"Trung",score:0,earn:0,roundResult:[],position:0},{key:"6",name:"Vinh",score:0,earn:0,roundResult:[],position:0}],B={1:{selected:!1,score:2},2:{selected:!1,score:1},3:{selected:!1,score:-1},4:{selected:!1,score:-2}},K=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){n.columns=[{title:"Name",dataIndex:"name"},{title:"Position",dataIndex:"",render:function(e,t,a){return o.a.createElement(O,{positions:n.state.positions,player:t,playerIndex:a,onPositionClick:n.selectPosition,onExtraItemClick:n.addExtraItem})}},{title:"Round Result",dataIndex:"roundResult",render:function(e,t,a){return o.a.createElement(S,{player:t,playerIndex:a,items:t.roundResult,onRemoveItem:n.removePlayerItem,onRemovePosition:n.removePlayerPosition})}},{title:"Earn",dataIndex:"earn"},{title:"Score",dataIndex:"score"}]},n.addExtraItem=function(e,t){var a=n.state.players[e];a.earn+=t.score,a.roundResult.push(t),n.forceUpdate()},n.removePlayerItem=function(e,t){var a=n.state.players[e],o=a.roundResult[t];a.earn-=o.score,a.roundResult.splice(t,1),n.forceUpdate()},n.selectPosition=function(e,t){var a=n.state.positions[t];a.selected=!0;var o=n.state.players[e];o.position=t,o.earn+=a.score,n.forceUpdate()},n.removePlayerPosition=function(e){var t=n.state.players[e],a=t.position,o=n.state.positions[a];o.selected=!1,t.position=0,t.earn-=o.score,n.forceUpdate()},n.isRoundCheckSumOK=function(){return 0===n.state.players.reduce(function(e,t){return e+t.earn},0)},n.onNextRoundClick=function(){var e=n.updateRoundScore(),t=n.resetPositions();n.setState({players:e,positions:t},function(){C.a.set("easyMoney",n.state)})},n.clearRoundResult=function(){var e=n.resetPlayersRoundResult(),t=n.resetPositions();n.setState({players:e,positions:t})},n.updateRoundScore=function(){return n.state.players.map(function(e){var t=e.score+e.earn;return Object(i.a)({},e,{earn:0,score:t,position:0,roundResult:[]})})},n.resetPlayersRoundResult=function(){return n.state.players.map(function(e){return Object(i.a)({},e,{earn:0,position:0,roundResult:[]})})},n.resetPositions=function(){return Object.keys(n.state.positions).reduce(function(e,t){var a=n.state.positions[t];return Object(i.a)({},e,Object(c.a)({},t,{selected:!1,score:a.score}))},{})},n.endGame=function(){var e=n.state.players.map(function(e){return Object(i.a)({},e,{earn:0,position:0,roundResult:[],score:0})}),t=n.resetPositions();n.setState({players:e,positions:t},function(){C.a.set("easyMoney",n.state)}),y.a.info("Started a new game")};var a=C.a.get("easyMoney");return n.state=a||{players:N,positions:B},n.initColumns(),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,{bordered:!1},o.a.createElement(E.a,{gutter:8,justify:"start",type:"flex"},o.a.createElement(k.a,null,o.a.createElement(R.a,{disabled:!this.isRoundCheckSumOK(),onClick:this.onNextRoundClick,type:"primary"},"Next Round")),o.a.createElement(k.a,null,o.a.createElement(R.a,{onClick:this.clearRoundResult},"Clear")),o.a.createElement(k.a,null,o.a.createElement(v.a,{placement:"bottom",title:"Are you sure to end game?",onConfirm:this.endGame,okText:"Yes",cancelText:"No"},o.a.createElement(R.a,{type:"danger"},"End Game")))),o.a.createElement("br",null),o.a.createElement(E.a,null,o.a.createElement(b.a,{dataSource:this.state.players,columns:this.columns,bordered:!0,pagination:!1})))}}]),t}(o.a.Component);n(313);var T=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,1,2]]]);
//# sourceMappingURL=main.8fc21599.chunk.js.map