(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,n,t){e.exports=t(307)},158:function(e,n,t){},306:function(e,n,t){},307:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(9),c=t.n(r),i=(t(158),t(70)),l=t(77),s=t(135),u=t(136),m=t(149),p=t(137),d=t(150),f=t(309),y=t(48),k=t(23),E=t(78),C=t(308),R=function(e){var n=e.positions,t=e.player,a=e.playerIndex,r=e.onPositionClick;return o.a.createElement(y.a,{justify:"start",type:"flex",gutter:4},Object.keys(n).map(function(e){return 0==n[e].selected&&0==t.position?o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){return r(a,e)},shape:"circle"},e)):null}))},v=function(e){var n=e.playerIndex;return o.a.createElement(y.a,{gutter:4,justify:"start",type:"flex"},o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:1,name:"Black"})},shape:"primary",icon:"line"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:2,name:"Red"})},shape:"primary",icon:"pause"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:3,name:"3 Pairs"})},shape:"primary",icon:"menu"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:4,name:"FoaK"})},shape:"primary",icon:"appstore"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:-1,name:"Black"})},shape:"danger",icon:"line"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:-2,name:"Red"})},shape:"danger",icon:"pause"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:-3,name:"3 Pairs"})},shape:"danger",icon:"menu"})),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:function(){e.onClickItem(n,{score:-4,name:"FoaK"})},shape:"danger",icon:"appstore"})))},h=t(310),I=function(e){var n=e.player,t=e.playerIndex,a=e.items,r=e.onRemoveItem,c=e.onRemovePosition;return o.a.createElement(y.a,{justify:"start",type:"flex"},0!=n.position?o.a.createElement(k.a,null,o.a.createElement(h.a,{color:"#108ee9",onClick:function(){return c(t)}},n.position)):null,a.map(function(e,n){return o.a.createElement(k.a,{key:n},o.a.createElement(h.a,{color:e.score>=0?"#87d068":"#f50",onClick:function(e){e.preventDefault(),r(t,n)}},e.name))}))},x=[{key:"1",name:"An",score:0,earn:0,roundResult:[],position:0},{key:"2",name:"\u0110\u1ea1t",score:0,earn:0,roundResult:[],position:0},{key:"3",name:"S\u01a1n",score:0,earn:0,roundResult:[],position:0},{key:"4",name:"Th\u1ecbnh",score:0,earn:0,roundResult:[],position:0},{key:"5",name:"Trung",score:0,earn:0,roundResult:[],position:0},{key:"6",name:"Vinh",score:0,earn:0,roundResult:[],position:0}],P={1:{selected:!1,score:2},2:{selected:!1,score:1},3:{selected:!1,score:-1},4:{selected:!1,score:-2}},b=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(m.a)(this,Object(p.a)(n).call(this,e))).initColumns=function(){t.columns=[{title:"Name",dataIndex:"name"},{title:"Position",dataIndex:"",render:function(e,n,a){return o.a.createElement(R,{positions:t.state.positions,player:n,playerIndex:a,onPositionClick:t.onPositionClick})}},{title:"Extra",dataIndex:"extra",render:function(e,n,a){return o.a.createElement(v,{playerIndex:a,onClickItem:t.onClickExtraItem})}},{title:"Round Result",dataIndex:"roundResult",render:function(e,n,a){return o.a.createElement(I,{player:n,playerIndex:a,items:n.roundResult,onRemoveItem:t.removePlayerItem,onRemovePosition:t.onRemovePosition})}},{title:"Earn",dataIndex:"earn"},{title:"Score",dataIndex:"score"}]},t.onClickExtraItem=function(e,n){var a=t.state.players[e];a.earn+=n.score,a.roundResult.push(n),t.forceUpdate()},t.removePlayerItem=function(e,n){var a=t.state.players[e],o=a.roundResult[n];a.earn-=o.score,a.roundResult.splice(n,1),t.forceUpdate()},t.onPositionClick=function(e,n){var a=t.state.positions[n];a.selected=!0;var o=t.state.players[e];o.position=n,o.earn+=a.score,t.forceUpdate()},t.onRemovePosition=function(e){var n=t.state.players[e],a=n.position,o=t.state.positions[a];o.selected=!1,n.position=0,n.earn-=o.score,t.forceUpdate()},t.isRoundCheckSumOK=function(){var e=t.state.players.reduce(function(e,n){return e+n.earn},0);return console.log("checksum:",e),0==e},t.onNextRoundClick=function(){t.updateRoundScore(),t.resetPositions()},t.onClearRoundResult=function(){t.resetPlayersResult(),t.resetPositions()},t.updateRoundScore=function(){var e=t.state.players.map(function(e){var n=e.score+e.earn;return Object(l.a)({},e,{earn:0,score:n,position:0,roundResult:[]})});t.setState({players:e})},t.resetPlayersResult=function(){var e=t.state.players.map(function(e){return Object(l.a)({},e,{earn:0,position:0,roundResult:[]})});t.setState({players:e})},t.resetPositions=function(){var e=Object.keys(t.state.positions).reduce(function(e,n){var a=t.state.positions[n];return Object(l.a)({},e,Object(i.a)({},n,{selected:!1,score:a.score}))},{});t.setState({positions:e})},t.state={players:x,positions:P},t.initColumns(),t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(f.a,{bordered:!1},o.a.createElement(y.a,{gutter:8,justify:"start",type:"flex"},o.a.createElement(k.a,null,o.a.createElement(E.a,{disabled:!this.isRoundCheckSumOK(),onClick:this.onNextRoundClick,type:"primary"},"Next Round")),o.a.createElement(k.a,null,o.a.createElement(E.a,{onClick:this.onClearRoundResult},"Clear")),o.a.createElement(k.a,null,o.a.createElement(E.a,{type:"danger"},"End Game"))),o.a.createElement("br",null),o.a.createElement(y.a,null,o.a.createElement(C.a,{dataSource:this.state.players,columns:this.columns,bordered:!0,pagination:!1})))}}]),n}(o.a.Component);t(306);var g=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.12f53256.chunk.js.map